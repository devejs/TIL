# VIM

## How to use VIM
### Why?
- 회사 개발 서버가 리눅스라 vim을 쓸 일이 많은데 매번 마우스를 사용해야 하는 일이 빈번하게 발생하면서 불편함
- (아직은 없었지만) 가끔 내가 꾸려 놓은 개발 환경이 아닌 환경에서 디버깅해야 할 때, 리눅스에서 바로 쓸 수 있는 vi 에디터 활용 능력 함양
- ~~간지남~~

### 이미 알고 있던 것
1. 커서 이동은 h,j,k,l (순서대로 왼,아래,위,오)
2. 명령 모드는 ESC / 편집 모드는 i (다른 것도 있지만 i가 제일 익숙 편안) / 라인모드 : (대체로 :지 다른 명령어도 있음)

    2-1. 편집 모드
    - i: insert, 커서 위치에 삽입
    - a: append, 커서 다음 위치에 추가
    - o: open, 커서 다음 줄 새로 생성해 추가
    - x: 한 글자 삭제
    - dd: 한 줄 삭제

    2-2. 명령 모드
    - 편집 모드, 라인 모드로 이동 가능
    - 모든 모드에서 ESC로 컴백

    2-3. 라인 모드
    - `:w`: 저장
    - `:q`: quit, 종료
    - `:wq`: 저장 후 종료
    - `:q! or :wq!`: !는 강제로 실행, wq! 의 경우 저장하고 강제 종료
    - `/`: 커서 뒷 방향으로 문자열 찾기
    - `?`: 커서 전 방향으로 문자열 찾기     // 지금까지는 써본 적 없지만 추후 매크로 기능에서 쓸 수 있음
        - n: (정방향) 다음 문자열 이동
        - N: (역방향) 이전 문자열 이동

3. 복사/붙여넣기
    - yy: yank, 한 줄 복사
    - p: put, 붙여넣기
    - `{count}`yy/p: 원하는 count 수만큼 복사/붙여넣기 가능

4. 취소/재실행
    - `u`: undo, 실행 취소
    - `Ctrl+r` : redo, 
    
    근데 되돌리는 기준이 뭔지 잘 모르겠음


### 필요한데 맨날 까먹는 기능
1. 문자열 블록 -> 삭제, 복사, 대체 등등
    - 비주얼 모드
        - `v`: 현재 커서; 현재 커서 위치에서 h,j,k,l,web 등의 커서 이동으로 블럭 설정 가능; 주로 h,l,w,b를 쓰지 않을까 싶음
        - `V`: 라인 단위; 현재 커서 위치에서 줄 단위로 블럭 설정 가능
        - `Ctrl+V`: 블럭(열) 단위; 현재 커서 위치에서 아랫줄로 내려가 (x,y:y+1) 의 좌변을 만듦 -> h,l로 블럭을 늘릴 수 있다! 
    - 삭제
        - d: 기본 삭제 키
            - `dd`: 한 줄 삭제
            - `dw`: 현재 커서 위치에서부터 한 단어 삭제(현재 위치부터) =><주의> w로 커서가 이동하는 위치까지 삭제됨
                ```
                ex) `inclusion of the ...` 
                `u` 위치에서 dw 하면
                1. w -> o로 이동
                2. 현재 위치부터 삭제
                -> `inclof the ...`
                ```
            - `de`: e로 커서가 이동하는 위치까지 삭제됨; 즉, 위의 예시에서 `n` 위치로 이동하게 되므로 `incl of the ...`가 됨
            - `bde`: 현재 단어 앞으로 이동 + 삭제 + 단어 끝까지
            - 비주얼 모드에서는 선택된 블록 `d`로 바로 삭제됨
2. h,j,k,l 을 제외한 커서 이동 (라인 앞/뒤, 단어 이동)
    - w: 다음 단어; 커서는 단어 맨 앞
    - e: 단어 끝; 현재 단어의 끝으로 커서 이동
    - b: 이전 단어; 커서는 단어 맨 앞

        // 웹으로 외우기   
        // 소문자는 기호 제외, 대문자는 기호 포함
    - ^: 라인 처음
    - $: 라인 끝
    - `Ctrl+U`: 반 화면 위 이동
    - `Ctrl+D`: 반 화면 아래 이동
    - `gg`: 문서 처음 이동
    - `G`: 문서 끝 이동
3. 문자열 치환
    - `%s/old_string/new_string`: old_string -> new_string 치환
        - 옵션

4. vim 임시로 내리기<br>
    -> 파일 저장은 하고 싶지 않지만 터미널을 확인해야 할 때
    1. `ctrl+z`-`fg`: 현재 작성중인 vim 파일을 백그라운드 프로세스로 내린 후 `fg` 커맨드로 다시 포그라운드로 올리기
        - 터미널에서 뭔가 추가 작업이 필요할 때 유용
        - 작업하던 파일은 vim 프로세스 내부 버퍼에 저장됨
    2. `:sh`-`ctrl+d`: 1과 동일한 동작
    3. `:!`: 터미널만 확인 후 타이핑시 vim 파일로 돌아옴

5. 터미널 작업 결과 vim 에 붙여넣기
    - `:read !~cmd~`
        - 여기서 cmd는 결과를 가져오고 싶은 터미널 명령어
            - ex. ls, cat some_file.md
        - 그럼 현재 커서에 명령어 결과 붙여넣기


### 보통은 필요하지 않지만 가끔 필요할 기능
(내 환경이 아니라서 .vimrc 세팅이 안 되있을 경우?)
```
:set number     // 라인 수 표시
:set nonu       // 라인 수 제거

```


### vimtutor 정리
#### Lesson 1
1. 방향키 hjkl  // 이 방향키에 익숙해지려면 타자법을 바꿔야 할 것 같음ㅠㅠ
2. 파일 시작/종료 `vim {filename}` / :q
3. `x`로 텍스트 지우기
4. `i`로 텍스트 삽입
5. `A`로 문장 맨 뒤에 텍스트 삽입

#### Lesson 2
1. 삭제 명령 `d`
    - `w`: 커서에서 그 단어 끝까지(공백 포함)
    - `e`: 커서에서 그 단어 끝까지(공백 미포함)
    - `$`: 커서에서 그 줄의 끝까지
2. 커서를 문장 맨 앞으로 이동 `0`, `^`도 됨
3. 숫자로 명령 반복 -> {count}+명령
    ex) 2w, 3e, 4dw(d4w)
4. 한 줄 전체 지우기 `dd`
5. 취소(undo) `u`
    - 잘 쓸지 모르겠는데 한 줄에서 수정한 걸 모두 취소하려면 `U`
6. 취소를 취소 `ctrl+r`

#### Lesson 3
1. 붙여넣기 `p` // 버퍼에 있는 내용을 붙임
2. 한 글자 수정 `r+{바꿀 글자}` // 커서에 있는 한 글자를 이후 입력한 글자로 바꿈
    -> 여러 글자도 한꺼번에 수정이 되나 해서 여러 개 선택해서 바꿔봤더니 모두 같은 글자로 바뀜
3. 한 단어 수정 `ce`  // 커서부터 `e`까지 한 단어 삭제하고 insert 모드로 변경, 즉 `de + i`
    -> count 동일하게 작용, `w`나 `$`같은 거 다 적용 가능

#### Lesson 4 
1. 위치 이동
    - `ctrl+G`: 상태줄 표시 (파일 이름, 위치)
    - `G`/`Shift+g`: 파일의 마지막으로 이동
    - `gg`: 파일의 처음으로 이동
    - `줄 번호 + G`/`줄 번호 + Shift+g`: 입력한 줄로 이동
2. `ruler` 옵션
3. 찾기 `/`
    - `n`
    - `N`
    - 역방향 찾기 `?`
    - 이전으로 가기 `ctrl+o` -> 추가 연습 필요
    - 뒤로 가기 `ctrl+i` -> 추가 연습 필요
4. 괄호 짝 찾기
5. 치환



#### reference


======================================================
###### 230515 TIL
###### 230518 TIL
###### 230930 TIL
###### 231001 TIL





======================================================
Vim practic log
1. download pracice source(linux)
    - no wget, download wget `brew install wget` in mac
    - 는 맥북 업데이트가 안 돼서 실패하고 그냥 linux kernel 소스 클론받음

2. vimtutor 연습
