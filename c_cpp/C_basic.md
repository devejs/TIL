# C_basic

### Endian
메모리에 데이터를 배열하는 방법
- 메모리에 있는 데이터를 CPU 에서 연산하기 위해 읽어올 때, 어떤 순서로 읽어올 것인가?
- Big Endian: 사람이 인식하는 순서 그대로 메모리에 배열
    - 큰 숫자가 앞에 오는 방식(주소가 커질수록 작은 숫자가 배열됨)
    - 네트워크에서 주소 쓰는 방식
    - ex. 0x00112233 -> 00 11 22 33
- Little Endian: Big Endian 의 반대
    - 큰 숫자가 더 큰 주소에 배열되는 방식
    - Intel 계열 CPU 채택
    - ex. 0x00112233 -> 33 22 11 00
    - 장점: 메모리에 저장된 값의 하위 바이트들만 사용할 때 별도의 계산이 필요 없음
- Middle Endian: Big/Little 두 경우에 속하지 않거나 둘을 모두 지원하는 것
    - ex) 32비트 정수가 2바이트 단위로는 빅 엔디언이고 그 안에서 1바이트 단위로는 리틀 엔디언인 경우
- 비트 순서
    - 보통 메모리의 접근은 바이트 단위로 이루어지기 때문에 비트 단위의 접근에는 별도의 연산 과정이 필요함
        - 최상위 비트 우선: 최상위 비트(MSB)부터 채우는 것
        - 최하위 비트 우선: 최하위 비트(LSB)부터 채우는 것
    - 비트 필드: C 언어 구조체에서 바이트보다 더 작은 비트 단위로 구조체 멤버를 할당하여 사용
        ```C
        struct Flags {
            unsigned int a : 1;     // a는 1비트 크기
            unsigned int b : 3;     // b는 3비트 크기
            unsigned int c : 7;     // c는 7비트 크기
        };
        ```

### 실수형과 부동소수점
- 실수형
    - float: 단정도, 32bit; 해상도가 낮아 최근에는 사용하지 않는 추세
        - 유효 자릿수: 소수점 이하 6자리
    - double: 배정도, 634bit
        - 유효 자릿수: 소수점 이하 15자리
    - long double: 특수정도, 79bit; 거의 사용하지 않음

- 부동 소수점
    - 무한소수의 경우, 무한정으로 그 값을 저장할 수 없으므로 필연적으로 오차가 생김
    - 정밀도: 근삿값을 사용하여 실수값을 표기함; 어디까지 저장하느냐에 따라 정밀도가 달라짐
    - IEEE754: 컴퓨터에서 부동소수점을 표현하는 가장 널리 쓰이는 표준
        - 32비트 단정밀도(single-precision)
        - 64비트 배정밀도(double-precision)
        - 43비트 이상의 확장 단정밀도(거의 쓰이지 않음)
        - 79비트 이상의 확장 배정밀도(일반적으로 80비트로 구현됨)

- 예시 (123.125F의 메모리 구조)
    - `F`가 붙었으므로 float (안 붙으면 double 로 처리됨)
        - float의 메모리 구조
            - 1bit: 부호
            - 8bit: 지수
            - 23bit: 가수
    - 실수 계산
        1. 양수이므로 sign bit: 0
        2. 지수: 정수부분 2진수 변환
            - 123을 2진수 변환하면 1111011
        3. 가수: 2를 곱해 정수 값이 있으면 1
            - 0.125에 2를 계속 곱하면 .001
        4. 정규화
            - 1111011.001 값을 정규화시키면
                - 1.111011001 -> 지수가 6
                - 지수 + bias 기준값(단정도형 127) = 133 -> 10000101
            - 1.111011001 의 가수는 .111011001; 오른쪽에 0을 채워 23bit 만들기
        5. 최종: 부호+지수+가수
            - 01000010111101100100000000000000 -> 42 F6 40 00
        6. Little Endian 적용: `00 40 F6 42`


#### Reference
- [독하게 되새기는 C 프로그래밍](https://www.inflearn.com/course/독하게-되새기는-c프로그래밍/dashboard)
- [IEEE754](https://ko.wikipedia.org/wiki/IEEE_754)

======================================================
###### 231024 TIL
###### 231027 TIL