# Network Protocols

## SSL/TLS
### SSL/TLS 란?
- 기존 웹: 웹에서 데이터가 암호화되지 않아 보안 이슈 발생 (패킷 가로채기 등)
- SSL(Secure Sockets Layer): 웹에서 전송되는 데이터를 암호화해 개인정보 보호 및 데이터 무결성 제공(데이터 디지털 서명)
- TLS(Transport Layer Security): SSL 업데이트 버전; 이름이 바뀐 것은 개발사의 소유권 이전 때문이라고 함. SSL과 큰 차이는 없어 SSL과 TLS가 혼용되어 사용되고, SSL/TLS라고도 함

> SSl/TLS 를 사용하는 웹사이트 URL은 HTTP 대신 HTTPS가 사용된다.

### SSL(TLS) 인증서
- SSL 인증: **SSL 인증서**가 있는 웹사이트만 실행 가능
- SSL 인증서는 웹사이트나 서버가 웹에 저장하고 표시
    - SSL 인증서는 인증 기관(CA)에서 발급한다. 
- 공개 키 암호화: 서로 다른 두 개의 키로 데이터를 암호화하거나 서명
    - 공개 키: 서로 다른 두 개의 키 중 하나로, 공개 키를 누구나 사용할 수 있도록 하는 방식
    - 개인 키: 공개 키로 암호화된 데이터를 해독
- 인증 프로세스: 핸드셰이크

### SSL/TLS 핸드셰이크
> 1. 사용자가 HTTPS를 통해 웹 사이트를 탐색하고 브라우저가 처음 해당 웹 사이트의 원본 서버를 쿼리하기 시작할 때마다 발생
> 2. 다른 통신이 API 호출 및 HTTPS를 통한 DNS 쿼리를 포함하는 HTTPS를 사용할 때 발생
> 3. 정확한 단계는 사용되는 키 교환 알고리즘의 종류와 양측에서 지원하는 암호 모음에 따라 달라진다

#### RSA 키 교환 알고리즘 사용 예시
1. 사용할 TLS 버전(TLS 1.0, 1.2, 1.3 등)을 지정
2. 사용할 암호 제품군(안전한 통신 연결을 수립하는 데 사용하는 알고리즘 세트)을 결정
    - 클라이언트 헬로
    - 서버 헬로
3. 서버의 공개 키와 SSL 인증서 기관의 디지털 서명을 통해 서버의 ID를 인증
    - 인증
    - 예비 마스터 암호
    - 개인 키 사용
4. 핸드셰이크가 완료된 후에 대칭 암호화를 사용하기 위하여 세션 키를 생성
    - 세션 키 생성
    - 클라이언트 준비 완료
    - 서버 준비 완료
    - 안전한 대칭 암호화 성공


### Reference
- [what is ssl](https://www.cloudflare.com/ko-kr/learning/ssl/what-is-ssl/)
- [공개 키 암호](https://www.cloudflare.com/ko-kr/learning/ssl/how-does-public-key-encryption-work/)
- [SSL 인증서 구조](https://m.blog.naver.com/alice_k106/221468341565)

======================================================
###### 230722 TIL