# Network: Port

## Port
### Port mirroring
네트워크 스위치의 어떤 한 포트에서 보이는 모든 네트워크 패킷(혹은 VLAN의 모든 패킷들)을 다른 모니터링 포트로 복사하는 것<br>
* SPAN(Switched Port ANalyzer): 포트 미러링과 동일한 의미로, CISCO 에서 사용
    - 소스/목적지가 같은 스위치
* RSPAN(Remote SPAN)
    - 소스/목적지가 다른 스위치

#### 왜 사용하는가
스위치는 일반적으로 디바이스가 연결된 포트로만 패킷을 전송하기 때문에 다른 모니터링 장치(ex.노트북, 와이어샤크)에서 해당 패킷을 관찰하기 위해서 사용함<br><br>
**모니터링 장치/분석 장치**
- 스위치 네트워크 관리
- 성능 분석/트래픽 분석




### Port forwarding
포트 포워딩(포트 매핑)<br>
내부망의 특정 포트를 외부(원격)에서 접속할 수 있도록 설정<br>
즉, 외부 IP/포트를 내부 IP/포트와 매핑하는 것

#### 포트 포워딩 종류
- 로컬 포트 포워딩: 로컬에서 SSH 클라이언트, 원격에서 SSH 서버
- 원격 포트 포워딩: 로컬에서 SSH 서버, 원격에서 SSH 클라이언트
- 동적 포트 포워딩: 1:N 매핑 방식

### SSH 터널링
SSH 서버를 게이트웨이/프록시 서버처럼 활용해 외부 접속을 하는 것<br>


### 프록시 서버
클라이언트가 다른 네트워크 서비스에 간접적으로 접속할 수 있게 거쳐가는 중간 역할을 하는 컴퓨터 시스템 혹은 소프트웨어
* 프록시(proxy): 대리; 서버와 클라이언트 사이에 중계기로서 대리로 통신을 수행하는 것
* 프록시 서버: 중계 기능을 하는 것

#### 프록시 서버 원리
1. 클라이언트 -> 프록시 서버로 
    - 여기서 프록시 서버에 캐시가 있다면 이미 가지고 있는 데이터는 웹 서버 요청 없이 바로 리턴 혹은 최신 정보 요청
2. 프록시 서버 -> 웹 서버
    - 최신이 아닌 경우 갱신된 정보만 요청
3. 웹 서버 -> 프록시 서버 응답
4. 프록시 서버 -> 클라이언트


#### 프록시 서버 사용 이유
- 초기에 메인 사용 이유는 속도/효율성
    - 캐시를 사용하여 리소스로의 접근을 빠르게 함
    - 웹 프록시는 웹 서버로부터 웹 페이지를 캐시로 저장하는 데 흔히 쓰임
    - 하지만 오히려 왔다갔다 통신 횟수가 늘어나며 더 느려질 수도 있음
- 익명으로 컴퓨터를 유지 (주로 보안을 위하여)
- 네트워크 서비스나 콘텐츠로의 접근 정책을 적용하기 위해. (이를테면 원치 않는 사이트를 차단)
- 사용률을 기록하고 검사하기 위해 (이를테면 회사는 인터넷 이용을 파악)
- 보안 및 통제를 뚫고 나가기 위해
- 바이러스 전파, 악성 루머 전파, 다른 정보들을 빼낼 목적으로
- 역으로 IP추적을 당하지 않을 목적으로
- 전달에 앞서 악성 코드를 목적으로 전달된 콘텐츠를 검사하기 위해
- 밖으로 나가는 콘텐츠를 검사하기 위해 (데이터 유출 보호)
- 지역 제한을 우회하기 위해


### 추가 공부할 내용
1. ~~프록시 서버~~
2. 방화벽





### Reference
- [포트 포워딩](https://kimkmg.tistory.com/53)


======================================================
###### 230804 TIL
###### 230816 TIL